# Детальное описание файлов проекта музыкальной школы

## Backend

### Папка `backend`

#### `routers/quiz.py`
- Определяет API endpoints для работы с квизами.
- Содержит два основных маршрута:
  1. POST `/submit_quiz/`: Принимает ответы на квиз и сохраняет их в базе данных.
  2. GET `/quiz_results/`: Возвращает все сохраненные результаты квизов.
- Использует зависимости FastAPI для внедрения сессии базы данных.

#### `services/quiz_services.py`
- Содержит бизнес-логику для обработки квизов.
- Функция `create_quiz_response()`: Создает новую запись в базе данных для ответа на квиз.
- Функция `get_quiz_responses()`: Извлекает все ответы на квизы из базы данных.

#### `__init__.py`
- Пустой файл, обозначающий, что директория является Python пакетом.

#### `crud.py`
- Содержит функции для выполнения CRUD операций с базой данных.
- Дублирует функциональность из `quiz_services.py`, возможно, для более общего использования.

#### `database.py`
- Настраивает подключение к базе данных SQLite.
- Создает движок SQLAlchemy и сессию для работы с базой данных.
- Предоставляет функцию `get_db()` для получения сессии базы данных в FastAPI зависимостях.

#### `logging_config.py`
- Настраивает логирование для приложения.
- Создает лог-файл `quiz_analytics.log`.
- Определяет функцию `log_quiz_submission()` для логирования завершенных квизов.

#### `main.py`
- Основной файл приложения FastAPI.
- Инициализирует приложение FastAPI.
- Создает таблицы в базе данных при запуске.
- Подключает роутер квизов к приложению.

#### `models.py`
- Определяет модель данных `QuizResponse` для работы с SQLAlchemy.
- Описывает структуру таблицы `quiz_responses` в базе данных.

#### `schemas.py`
- Определяет Pydantic модель `QuizResponseCreate` для валидации данных при создании нового ответа на квиз.
- Обеспечивает соответствие данных ожидаемой структуре.

### Файлы в корне backend
- `quiz_responses.db`: База данных SQLite для хранения ответов на квизы.
- `requirements.txt`: Список Python-зависимостей проекта (FastAPI, SQLAlchemy, и др.).

## Frontend

### Папка `src`

#### `assets/`
- `hero-bg.jpg`: Фоновое изображение для главной секции сайта.
- `logo.svg`: Векторный логотип сайта.

#### `directives/scrollAnimation.js`
- Реализует пользовательскую директиву Vue для анимации элементов при прокрутке.
- Использует Intersection Observer API для отслеживания видимости элементов.
- Применяет CSS-анимацию для плавного появления элементов.

#### `router/index.js`
- Настраивает Vue Router для навигации по сайту.
- Определяет маршрут для главной страницы, связывая его с компонентом App.

#### `styles/`

##### `components/common/`
- `AdvantageCard.scss` и `AdvantageCard.vue`:
  - Стилизует и реализует компонент карточки преимущества.
  - Принимает props для иконки, заголовка и описания.
- `QuizForm.scss` и `QuizForm.vue`:
  - Стилизует и реализует форму для квиза.
  - Обрабатывает ввод пользователя и отправку данных на сервер.
- `ReviewCarousel.scss` и `ReviewCarousel.vue`:
  - Стилизует и реализует карусель отзывов.
  - Отображает отзывы в виде горизонтального скроллируемого списка.

##### `components/layout/`
- `AppFooter.scss` и `AppFooter.vue`:
  - Стилизует и реализует футер сайта.
  - Отображает логотип, ссылки и контактную информацию.
- `AppHeader.scss` и `AppHeader.vue`:
  - Стилизует и реализует шапку сайта.
  - Включает логотип и навигационное меню.
  - Реализует адаптивное меню-бургер для мобильных устройств.

##### `components/sections/`
- `AboutSection.vue` и `AboutSection.scss`:
  - Реализует и стилизует секцию "О нас".
  - Содержит краткую информацию о музыкальной школе.
- `AdvantagesSection.vue` и `AdvantagesSection.scss`:
  - Отображает список преимуществ школы.
  - Использует компонент AdvantageCard для каждого преимущества.
- `ContactSection.vue` и `ContactSection.scss`:
  - Реализует форму для записи на пробное занятие.
  - Отправляет данные формы на сервер.
- `HeroSection.vue` и `HeroSection.scss`:
  - Создает главную секцию сайта с призывом к действию.
  - Включает анимированный фон с музыкальными нотами и инструментами.
- `ReviewsSection.vue` и `ReviewsSection.scss`:
  - Отображает отзывы клиентов.
  - Использует компонент ReviewCarousel для показа отзывов.
- `TeachersSection.vue` и `TeachersSection.scss`:
  - Представляет информацию о преподавателях школы.
  - Отображает фотографии, имена и краткие биографии учителей.

#### `_variables.scss`
- Определяет глобальные SCSS переменные для цветов, шрифтов и других стилевых констант.

#### `App.scss`
- Содержит глобальные стили приложения.
- Импортирует шрифты, устанавливает базовые стили для body и определяет общие классы.

#### `main.scss`
- Основной файл стилей, который импортирует все остальные SCSS файлы.
- Обеспечивает правильный порядок применения стилей.

#### `utils/smooth-scroll.js`
- Реализует функцию плавной прокрутки к элементам на странице.
- Использует requestAnimationFrame для оптимизации производительности.

#### `App.vue`
- Корневой компонент приложения.
- Объединяет все основные секции сайта.
- Управляет общей структурой приложения.

#### `main.js`
- Точка входа для Vue приложения.
- Инициализирует Vue, подключает плагины и монтирует приложение.

### Корневые файлы frontend
- `package.json`: Описывает проект и его зависимости.
- `package-lock.json`: Фиксирует точные версии установленных пакетов.
- `.gitignore`: Указывает Git, какие файлы и директории игнорировать.
- `babel.config.js`: Настраивает Babel для транспиляции JavaScript.
- `jsconfig.json`: Предоставляет настройки для JavaScript в проекте.
- `vue.config.js`: Конфигурирует Vue CLI и webpack.

## Общие файлы
- `quiz_responses.db`: База данных SQLite, используемая как backend, так и frontend.
- `README.md`: Содержит общую информацию о проекте, инструкции по установке и запуску.

## Анимации в проекте

### CSS анимации

#### 1. Анимация появления элементов при прокрутке

Файл: `src/directives/scrollAnimation.js`

```javascript
el.style.opacity = "0";
el.style.transform = "translateY(50px)";
el.style.transition = "opacity 0.5s ease-out, transform 0.5s ease-out";
```

- **Эффект:** Элементы плавно появляются, двигаясь снизу вверх при прокрутке страницы.
- **Применение:** Используется как директива Vue `v-scroll-animation` для различных секций и элементов на странице.
- **Описание:** 
  - Начальное состояние: элемент невидим (opacity: 0) и смещен вниз на 50px.
  - При появлении в области видимости: 
    - Прозрачность увеличивается до 1 (полностью видимый).
    - Элемент перемещается вверх в свою исходную позицию.
  - Продолжительность анимации: 0.5 секунды с плавным ускорением/замедлением (ease-out).

#### 2. Анимация плавающих нот и инструментов

Файл: `src/styles/components/sections/HeroSection.scss`

```scss
@keyframes float {
  0% {
    transform: translateY(100vh) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.7;
  }
  90% {
    opacity: 0.7;
  }
  100% {
    transform: translateY(-100vh) rotate(360deg);
    opacity: 0;
  }
}

.note, .instrument {
  animation: float 20s linear infinite;
}
```

- **Эффект:** Ноты и инструменты плавно поднимаются снизу вверх, вращаясь и изменяя прозрачность.
- **Применение:** Используется в HeroSection для создания динамичного фона.
- **Описание:**
  - Начало: Элементы появляются снизу экрана (translateY(100vh)), полностью прозрачные.
  - 10% анимации: Элементы становятся видимыми (opacity: 0.7).
  - 90% анимации: Элементы остаются видимыми.
  - Конец: Элементы исчезают сверху экрана, совершив полный оборот (rotate(360deg)).
  - Продолжительность: 20 секунд, повторяется бесконечно.

### CSS переходы

#### 1. Плавное изменение цвета кнопок

Файл: `src/styles/App.scss`

```scss
.btn {
  transition: background-color 0.3s ease;
}
```

- **Эффект:** Плавное изменение цвета фона кнопки при наведении или нажатии.
- **Применение:** Используется для всех кнопок с классом `.btn`.
- **Описание:** 
  - Продолжительность перехода: 0.3 секунды.
  - Функция времени: ease (плавное начало и конец).

#### 2. Анимация карточек преимуществ

Файл: `src/styles/components/common/AdvantageCard.scss`

```scss
.advantage-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.advantage-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
}
```

- **Эффект:** При наведении карточка слегка приподнимается и увеличивается тень.
- **Применение:** Применяется к карточкам преимуществ в секции AdvantagesSection.
- **Описание:**
  - Продолжительность перехода: 0.3 секунды для обоих свойств.
  - При наведении: 
    - Карточка поднимается на 10px вверх.
    - Тень становится более выраженной, создавая эффект "парения".

#### 3. Анимация появления мобильного меню

Файл: `src/styles/components/layout/AppHeader.scss`

```scss
.app-header {
  transition: height 0.3s ease;
}

nav ul li {
  opacity: 0;
  transform: translateX(20px);
  transition: opacity 0.3s ease, transform 0.3s ease;
}

.app-header.menu-open nav ul li {
  opacity: 1;
  transform: translateX(0);
  transition-delay: calc(var(--item-index) * 0.05s);
}
```

- **Эффект:** Плавное раскрытие мобильного меню и последовательное появление пунктов меню.
- **Применение:** Используется в мобильной версии шапки сайта.
- **Описание:**
  - Высота шапки плавно изменяется при открытии/закрытии меню (0.3с).
  - Пункты меню изначально скрыты и смещены вправо.
  - При открытии меню:
    - Пункты меню становятся видимыми и перемещаются в исходное положение.
    - Каждый следующий пункт появляется с задержкой 0.05с, создавая эффект каскада.

### Vue Transitions

#### 1. Fade-in-up эффект для секций

Файл: `src/App.vue` и различные секционные компоненты

```vue
<transition name="fade-in-up">
  <section class="about">
    <!-- содержимое секции -->
  </section>
</transition>
```

```scss
.fade-in-up-enter-active, .fade-in-up-leave-active {
  transition: opacity 0.5s ease, transform 0.5s ease;
}
.fade-in-up-enter, .fade-in-up-leave-to {
  opacity: 0;
  transform: translateY(20px);
}
```

- **Эффект:** Секции плавно появляются, двигаясь снизу вверх при загрузке или изменении маршрута.
- **Применение:** Используется для основных секций сайта.
- **Описание:**
  - При появлении: секция становится видимой и перемещается вверх на 20px.
  - При исчезновении: секция становится прозрачной и опускается на 20px.
  - Продолжительность: 0.5 секунд для обоих свойств (opacity и transform).
```