<template>
  <section class="hero" aria-labelledby="hero-title">
    <div class="video-background" aria-hidden="true">
      <video autoplay loop muted playsinline>
        <source src="@/assets/hero-bg.webm" type="video/webm">
        <track kind="captions" src="@/assets/hero-bg-captions.vtt" srclang="ru" label="Russian">
        Your browser does not support the video tag.
      </video>
    </div>
    <div class="overlay"></div>
    <div class="animated-background">
      <div v-for="i in 20" :key="i" class="note" :style="randomNoteStyle()">‚ô™</div>
    </div>
    <div class="container">
      <h1 class="fade-in-up">–ë–£–ú —Å—Ç—É–¥–∏—è –º—É–∑—ã–∫–∏</h1>
      <p class="fade-in-up">–û–±—É—á–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑—Ä–∞—Å—Ç–æ–≤ —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∞–º–∏</p>
        <img
          src="@/assets/button.svg"
        alt="–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–±–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ"
        class="cta-button"
        @click="handleClick"
        />
    </div>
    <div class="floating-instruments" aria-hidden="true">
      <span
        v-for="(instrument, index) in instruments"
        :key="index"
        class="instrument"
        :style="randomInstrumentStyle(index)"
      >
        {{ instrument }}
      </span>
    </div>
    <!-- Black transition at the bottom -->
    <img
      src="@/assets/black-grange-border-hero.png"
      alt=""
      class="section-transition-bottom"
      aria-hidden="true"
    />
  </section>
</template>

<script>
import { defineComponent } from 'vue';

export default defineComponent({
  name: 'HeroSection',
  data() {
    return {
      instruments: ['üé∏', 'üéπ', 'ü•Å', 'üé§', 'üéº', 'üéß'],
    }
  },
  methods: {
    randomNoteStyle() {
      return {
        left: `${Math.random() * 100}%`,
        animationDelay: `${Math.random() * 5}s`,
        animationDuration: `${15 + Math.random() * 10}s`
      }
    },
    randomInstrumentStyle(index) {
      return {
        left: `${Math.random() * 90 + 5}%`,
        animationDelay: `${Math.random() * 5}s`,
        animationDuration: `${20 + Math.random() * 10}s`,
        fontSize: `${30 + Math.random() * 5}px`
      }
    },
    handleClick() {
      const contactSection = document.getElementById('contact');
      if (contactSection) {
        contactSection.scrollIntoView({behavior: 'smooth'});
      } else {
        console.error('–°–µ–∫—Ü–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞');
      }
    }
  }
});
</script>

<style lang="scss" src="@/styles/components/sections/HeroSection.scss"></style>